# SMBExploitEternalSynergyDoSPOC
A P.O.C. for the MS17-10 ETERNALCHAMPION race condition written fully in C++


This P.O.C. of mine that I wrote a while back has to be run multiple times against a windows 7 64bit machine or VM with MULTIPLE processor cores to win a race condition (otherwise you can only leak windows smb/srv.sys memory, and without a 2+ core machine or vm the leaked data is trash anyway as it won't have the important stuff we need for calculations). And for clarity this program was built for and ran on multiple Windows 10 machines with the vulnerable Win. 7 x64 VM's hosted on the same machine.

This P.O.C. is defininently buggy as hell, it takes a shitload of Heap/Virtual memory when it runs (and sometimes a single HeapAlloc() or CryptAcquireContextW() call will fail making the whole thing fail if it has to many unsuccessfull expoit attempts before the program exits, or just randomly because the intent was just to get a POC that works sometimes instead of weaponizing it. Because I did not deam it worthy of putting the amount of time in when I built it originally over a year ago).

But it may be worth it being open source for the purpose of research and improving the quality of the code and the overall design.

Also dont get me started on the stuff it prints to the console one fifth of the error messages are the result of not really wanting to guess and check if the errors are really errors, so it just prints it all to the console.

ANY and ALL critisicms, ideas for improvement or just general feedback not just welcomed, but highly encouraged. 
As would any contributions as long as they either work, or improve documentation.
